<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Entretenimento VIP - Acesso Exclusivo</title>
  <style>
    :root{
      --bg:#0A0A0A; --card:#131315; --card-lighter:#171717; --accent:#F5C22E; --muted:#9AA0A6;
      --btn:#25D366; --glass: rgba(255,255,255,0.04);
      --carousel-arrow-bg: rgba(255,255,255,0.1);
      --text-primary: #FFFFFF; --text-secondary: #CFCFCF;
    }
    *{box-sizing:border-box}
    body {
      margin:0; 
      font-family: 'Inter', 'Segoe UI', 'Roboto', Arial, sans-serif; 
      background:linear-gradient(180deg, var(--bg) 0%, #0B0B0D 100%); 
      color:var(--text-primary); 
      -webkit-font-smoothing:antialiased;
    }
    .wrap{max-width:1200px;margin:0 auto;padding:24px;}

    /* Header / Hero */
    header{display:flex;gap:24px;align-items:center;justify-content:space-between;padding:36px 0}
    .hero-left{max-width:640px}
    h1{margin:0;font-size:2.2rem;color:var(--accent);line-height:1.05}
    p.lead{color:#e6e6e6;font-size:1.05rem;margin:14px 0 22px}
    .cta-row{display:flex;gap:12px;flex-wrap:wrap}
    .btn-primary{background:linear-gradient(135deg,#FFD700,#f6a100);color:#000;padding:12px 20px;border-radius:28px;text-decoration:none;font-weight:700}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#fff;padding:12px 20px;border-radius:28px;text-decoration:none}

    /* Form card */
    .card{background:var(--card-lighter);border-radius:12px;padding:20px;box-shadow:0 12px 30px rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.03)}
    form .row{display:flex;gap:12px;flex-wrap:wrap}
    label{display:block;font-size:0.9rem;color:var(--muted);margin-bottom:6px}
    input, select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#fff}
    input::placeholder{color:#8f8f8f}
    .col-2{flex:1 1 calc(50% - 12px)}
    .col-1{flex:1 1 100%}
    .submit-row{display:flex;align-items:center;gap:12px;margin-top:12px}
    .btn-submit{background:var(--btn);padding:12px 18px;border-radius:12px;border:none;color:#fff;font-weight:700;cursor:pointer}
    .btn-submit[disabled]{opacity:.6;cursor:not-allowed}

    /* Info / features */
    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:22px}
    .feature{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:16px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);}

    /* Testimonials area - Versão melhorada baseada na imagem real */
    .testimonials-carousel-container {
      position: relative;
      margin-top: 32px;
      overflow: hidden;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      padding: 0 50px;
    }

    .testimonials-carousel {
      display: flex;
      transition: transform 0.5s ease-in-out;
      gap: 20px;
    }

    /* Novo design do testimonial baseado na imagem */
    .testimonial {
      flex: 0 0 calc(100% - 20px);
      max-width: calc(100% - 20px);
      background: var(--card);
      padding: 0;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.03);
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
      display: flex;
      overflow: hidden;
      min-height: 200px;
      box-sizing: border-box;
    }

    /* Coluna esquerda - WhatsApp info */
    .whatsapp-column {
      background: #0F0F10;
      width: 120px;
      display: flex;
      flex-direction: column;
      padding: 16px 12px;
      border-right: 1px solid rgba(255,255,255,0.05);
    }

    .whatsapp-label {
      font-size: 11px;
      color: var(--muted);
      margin-bottom: auto;
      font-weight: 400;
    }

    .phone-masked {
      color: var(--text-primary);
      font-size: 13px;
      font-weight: 600;
      line-height: 1.3;
      margin-top: auto;
    }

    /* Coluna direita - Conteúdo do depoimento */
    .testimonial-content {
      flex: 1;
      padding: 16px 20px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .customer-info {
      margin-bottom: 12px;
    }

    .customer-name {
      color: var(--accent);
      font-weight: 700;
      font-size: 16px;
      margin-bottom: 4px;
    }

    .customer-location {
      color: var(--muted);
      font-size: 14px;
      font-weight: 400;
    }

    .testimonial-quote {
      color: var(--text-primary);
      font-size: 15px;
      line-height: 1.4;
      font-weight: 400;
      flex: 1;
      display: flex;
      align-items: center;
    }

    .testimonial-quote::before {
      content: """;
      font-size: 18px;
      color: var(--muted);
      margin-right: 2px;
    }

    .testimonial-quote::after {
      content: """;
      font-size: 18px;
      color: var(--muted);
      margin-left: 2px;
    }

    /* Botões de navegação do carrossel */
    .carousel-nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: var(--carousel-arrow-bg);
      backdrop-filter: blur(10px);
      border: none;
      color: var(--text-primary);
      font-size: 20px;
      padding: 12px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s ease;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .carousel-nav-btn:hover {
      background: rgba(255,255,255,0.2);
      transform: translateY(-50%) scale(1.05);
    }

    .carousel-nav-btn.prev { left: 10px; }
    .carousel-nav-btn.next { right: 10px; }

    /* FAQ */
    .faq{margin-top:28px}
    .faq-item{background:var(--card-lighter);padding:12px;border-radius:8px;margin-bottom:8px}

    /* Floating WhatsApp */
    .whatsapp-float{position:fixed;right:18px;bottom:18px;z-index:1400;width:64px;height:64px;border-radius:50%;background:var(--btn);display:flex;align-items:center;justify-content:center;color:#fff;font-size:28px;text-decoration:none;box-shadow:0 10px 30px rgba(0,0,0,0.4)}

    /* Notificações */
    .notif-container{position:fixed;top:12px;right:12px;z-index:1500;pointer-events:none}
    .notif{min-width:260px;max-width:340px;background:linear-gradient(180deg,rgba(30,30,33,0.98),rgba(10,10,12,0.98));padding:12px;border-radius:10px;box-shadow:0 12px 30px rgba(0,0,0,0.4);display:flex;align-items:center;gap:12px;opacity:0;transform:translateY(-8px)}
    .notif.show{animation:slideIn .45s ease forwards}
    @keyframes slideIn{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
    @keyframes slideOut{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-8px)}}

    /* Modals customizados */
    .custom-modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(4px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      opacity: 0;
      transition: all 0.3s ease;
      padding: 20px;
      box-sizing: border-box;
    }

    .custom-modal-overlay.show {
      display: flex;
      opacity: 1;
    }

    .custom-modal {
      background: linear-gradient(145deg, var(--card), var(--card-lighter));
      border-radius: 16px;
      padding: 28px;
      max-width: 450px;
      width: 100%;
      position: relative;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transform: scale(0.7) translateY(50px);
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      max-height: 80vh;
      overflow-y: auto;
    }

    .custom-modal-overlay.show .custom-modal {
      transform: scale(1) translateY(0);
    }

    .custom-modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .custom-modal-icon {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      margin-right: 12px;
    }

    .custom-modal-icon.info {
      background: linear-gradient(135deg, #4A90E2, #357ABD);
      color: #fff;
    }

    .custom-modal-icon.warning {
      background: linear-gradient(135deg, #F5A623, #E8931E);
      color: #fff;
    }

    .custom-modal-icon.success {
      background: linear-gradient(135deg, #7ED321, #5CB85C);
      color: #fff;
    }

    .custom-modal-icon.error {
      background: linear-gradient(135deg, #D0021B, #B81B1B);
      color: #fff;
    }

    .custom-modal-title {
      flex: 1;
      color: var(--text-primary);
      font-size: 1.25rem;
      font-weight: 700;
      margin: 0;
    }

    .custom-modal-close {
      background: none;
      border: none;
      color: var(--muted);
      font-size: 24px;
      cursor: pointer;
      padding: 4px;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .custom-modal-close:hover {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-primary);
    }

    .custom-modal-body {
      color: var(--text-secondary);
      font-size: 1rem;
      line-height: 1.5;
      margin-bottom: 24px;
    }

    .custom-modal-actions {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    .modal-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 0.9rem;
    }

    .modal-btn-primary {
      background: linear-gradient(135deg, var(--accent), #D4A017);
      color: #000;
    }

    .modal-btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(245, 194, 46, 0.3);
    }

    .modal-btn-secondary {
      background: transparent;
      color: var(--text-secondary);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .modal-btn-secondary:hover {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-primary);
    }

    /* Responsive para modais */
    @media (max-width: 600px) {
      .custom-modal {
        padding: 20px;
        margin: 10px;
        max-width: calc(100% - 20px);
      }

      .custom-modal-header {
        margin-bottom: 16px;
      }

      .custom-modal-title {
        font-size: 1.1rem;
      }

      .custom-modal-actions {
        flex-direction: column;
      }

      .modal-btn {
        width: 100%;
        padding: 12px;
      }
    }

    /* Responsive */
    @media(max-width:900px){
      header{flex-direction:column;align-items:flex-start}
      .hero-left{width:100%}
      .card{width:100%}
      .testimonials-carousel-container {
        max-width: 95%;
        padding: 0 15px;
      }
      .carousel-nav-btn.prev { left: 5px; }
      .carousel-nav-btn.next { right: 5px; }
      
      .whatsapp-column {
        width: 100px;
        padding: 12px 8px;
      }
      
      .testimonial-content {
        padding: 12px 16px;
      }
    }

    @media(max-width:600px){
      .testimonial {
        flex-direction: column;
        min-height: auto;
      }
      
      .whatsapp-column {
        width: 100%;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        padding: 12px 16px;
        border-right: none;
        border-bottom: 1px solid rgba(255,255,255,0.05);
      }
      
      .testimonial-content {
        padding: 16px;
      }
    }

    /* Utility classes */
    .muted-note{font-size:0.85rem;color:#bdbdbd;margin-top:8px}
    .success-msg{color:#9fe29f;font-weight:700}
  </style>
</head>
<body>
  <div class="notif-container" id="notifContainer"></div>

  <div class="wrap">
    <header>
      <div class="hero-left">
        <h1>🎬 Acesso VIP — poucas vagas</h1>
        <p class="lead">Tenha entretenimento direto na sua tela com a sensação de alívio: tudo funcionando, sem complicação. Preencha os seus dados e garante um teste exclusivo.</p>
        <div class="cta-row">
          <a class="btn-primary" href="#form" id="testNowBtn">Quero testar agora</a>
          <a class="btn-ghost" href="#testimonials">Ver depoimentos</a>
        </div>
      </div>

      <!-- Card do formulário -->
      <div class="card" style="min-width:320px;max-width:420px" id="form">
        <form id="leadForm" autocomplete="off" novalidate>
          <div class="row">
            <div class="col-2">
              <label for="name">Nome*</label>
              <input id="name" name="name" type="text" placeholder="Seu nome" required>
            </div>
            <div class="col-2">
              <label for="lastname">Sobrenome*</label>
              <input id="lastname" name="lastname" type="text" placeholder="Sobrenome" required>
            </div>

            <div class="col-2">
              <label for="age">Idade*</label>
              <input id="age" name="age" type="number" min="12" max="120" placeholder="Ex: 28" required>
            </div>
            <div class="col-2">
              <label for="phone">Telefone*</label>
              <input id="phone" name="phone" type="tel" placeholder="(11) 9xxxx-xxxx" required>
            </div>

            <div class="col-1">
              <label for="email">Email*</label>
              <input id="email" name="email" type="email" placeholder="seu@email.com" required>
            </div>
          </div>

          <div class="submit-row">
            <button type="submit" class="btn-submit" id="submitBtn">Quero fazer um teste</button>
            <div id="formMsg" class="muted-note" aria-live="polite"></div>
          </div>

          <div class="muted-note">Ao clicar, você será direcionado ao WhatsApp com seus dados. Não compartilhamos suas informações com terceiros.</div>
        </form>
      </div>
    </header>

    <!-- Features -->
    <section>
      <div class="features">
        <div class="feature"><strong>📺 Conteúdo em HD</strong><div class="small">Assista com qualidade e sem travamentos.</div></div>
        <div class="feature"><strong>⚡ Ativação rápida</strong><div class="small">Suporte para tirar dúvidas e ativar em minutos.</div></div>
        <div class="feature"><strong>👨‍👩‍👧 Para família</strong><div class="small">Perfis e canais para todas as idades.</div></div>
        <div class="feature"><strong>🔒 Privacidade</strong><div class="small">Seus dados protegidos e atendimento dedicado.</div></div>
      </div>
    </section>

    <!-- Testimonials com visual melhorado baseado na imagem real -->
    <section id="testimonials">
      <h2 style="color:var(--accent)">Depoimentos reais</h2>
      <p class="muted-note">Clientes que aproveitaram a primeira assinatura com desconto e hoje recomendam para família e amigos.</p>

      <div class="testimonials-carousel-container">
        <div class="testimonials-carousel" id="testimonialsCarousel">
          
          <!-- Depoimento da Fernanda R. (baseado na imagem real) -->
          <div class="testimonial">
            <div class="whatsapp-column">
              <div class="whatsapp-label">WhatsApp</div>
              <div class="phone-masked">+55 19 9****-<br>****</div>
            </div>
            <div class="testimonial-content">
              <div class="customer-info">
                <div class="customer-name">Fernanda R.</div>
                <div class="customer-location">Campinas, SP</div>
              </div>
              <div class="testimonial-quote">Ganhei desconto porque fui indicada por um amigo. Uso há 2 meses, ótimo suporte e recomendo para toda família.</div>
            </div>
          </div>

          <!-- Testimonial 2 -->
          <div class="testimonial">
            <div class="whatsapp-column">
              <div class="whatsapp-label">WhatsApp</div>
              <div class="phone-masked">+55 11 9****-<br>****</div>
            </div>
            <div class="testimonial-content">
              <div class="customer-info">
                <div class="customer-name">Marcos A.</div>
                <div class="customer-location">São Paulo, SP</div>
              </div>
              <div class="testimonial-quote">Comprei com o desconto da 1ª assinatura — depois de 3 meses nunca deu problema. Indiquei para meu irmão e minha mãe!</div>
            </div>
          </div>

          <!-- Testimonial 3 -->
          <div class="testimonial">
            <div class="whatsapp-column">
              <div class="whatsapp-label">WhatsApp</div>
              <div class="phone-masked">+55 31 9****-<br>****</div>
            </div>
            <div class="testimonial-content">
              <div class="customer-info">
                <div class="customer-name">Carla M.</div>
                <div class="customer-location">Belo Horizonte, MG</div>
              </div>
              <div class="testimonial-quote">Promoção da 1ª assinatura valeu a pena. Indiquei para meu primo e ele adorou. Suporte sempre disponível.</div>
            </div>
          </div>

          <!-- Testimonial 4 -->
          <div class="testimonial">
            <div class="whatsapp-column">
              <div class="whatsapp-label">WhatsApp</div>
              <div class="phone-masked">+55 41 9****-<br>****</div>
            </div>
            <div class="testimonial-content">
              <div class="customer-info">
                <div class="customer-name">Roberto S.</div>
                <div class="customer-location">Curitiba, PR</div>
              </div>
              <div class="testimonial-quote">Depois que meu tio indicou, fechei. Funciona bem e o suporte sempre responde.</div>
            </div>
          </div>

          <!-- Testimonial 5 -->
          <div class="testimonial">
            <div class="whatsapp-column">
              <div class="whatsapp-label">WhatsApp</div>
              <div class="phone-masked">+55 11 9****-<br>****</div>
            </div>
            <div class="testimonial-content">
              <div class="customer-info">
                <div class="customer-name">Ana P.</div>
                <div class="customer-location">São Paulo, SP</div>
              </div>
              <div class="testimonial-quote">Antes eu pagava mais de 400 reais de tv a cabo e hoje pago 34,90 muito feliz</div>
            </div>
          </div>

          <!-- Testimonial 6 -->
          <div class="testimonial">
            <div class="whatsapp-column">
              <div class="whatsapp-label">WhatsApp</div>
              <div class="phone-masked">+55 21 9****-<br>****</div>
            </div>
            <div class="testimonial-content">
              <div class="customer-info">
                <div class="customer-name">Carlos D.</div>
                <div class="customer-location">Rio de Janeiro, RJ</div>
              </div>
              <div class="testimonial-quote">Hoje eu consigo pagar outras contas só de tá economizando com seu aplicativo de filmes</div>
            </div>
          </div>

          <!-- Testimonial 7 -->
          <div class="testimonial">
            <div class="whatsapp-column">
              <div class="whatsapp-label">WhatsApp</div>
              <div class="phone-masked">+55 31 9****-<br>****</div>
            </div>
            <div class="testimonial-content">
              <div class="customer-info">
                <div class="customer-name">Juliana L.</div>
                <div class="customer-location">Belo Horizonte, MG</div>
              </div>
              <div class="testimonial-quote">Meu filho passa o dia todo assistindo desenho adorei</div>
            </div>
          </div>

          <!-- Testimonial 8 -->
          <div class="testimonial">
            <div class="whatsapp-column">
              <div class="whatsapp-label">WhatsApp</div>
              <div class="phone-masked">+55 41 9****-<br>****</div>
            </div>
            <div class="testimonial-content">
              <div class="customer-info">
                <div class="customer-name">Patrícia G.</div>
                <div class="customer-location">Curitiba, PR</div>
              </div>
              <div class="testimonial-quote">Agora consigo limpar a casa, minha filha fica quietinha vendo os desenhos dela</div>
            </div>
          </div>

        </div>
        <button class="carousel-nav-btn prev" id="prevTestimonial">‹</button>
        <button class="carousel-nav-btn next" id="nextTestimonial">›</button>
      </div>
    </section>

    <!-- FAQ -->
    <section class="faq">
      <h3 style="color:var(--accent)">Dúvidas</h3>
      <div class="faq-item"><strong>Funciona na TV?</strong><div class="small">Sim — funciona em Smart TVs, celular e computador.</div></div>
      <div class="faq-item"><strong>Preciso cancelar depois do teste?</strong><div class="small">Você escolhe. O teste dá a opção de avaliar antes de contratar o plano.</div></div>
      <div class="faq-item"><strong>Como é o suporte?</strong><div class="small">Atendimento via WhatsApp com suporte dedicado para tirar dúvidas.</div></div>
    </section>

    <footer style="margin-top:36px;padding:28px;text-align:center;color:#bbb">© 2025 - Comunidade Exclusiva de Entretenimento Digital</footer>
  </div>

  <!-- botão WhatsApp fixo -->
  <a class="whatsapp-float" id="whatsFloat" href="#" target="_blank" title="Falar no WhatsApp">💬</a>

  <!-- Modais customizados -->
  <div class="custom-modal-overlay" id="customModalOverlay">
    <div class="custom-modal" id="customModal">
      <div class="custom-modal-header">
        <div style="display: flex; align-items: center;">
          <div class="custom-modal-icon" id="modalIcon">ℹ</div>
          <h3 class="custom-modal-title" id="modalTitle">Informação</h3>
        </div>
        <button class="custom-modal-close" id="modalClose">×</button>
      </div>
      <div class="custom-modal-body" id="modalBody">
        Mensagem do modal
      </div>
      <div class="custom-modal-actions" id="modalActions">
        <button class="modal-btn modal-btn-primary" id="modalOkBtn">OK</button>
      </div>
    </div>
  </div>

  <script>
    /* ====== CONFIG ====== */
    const PHONE_WHATSAPP = '5521981174390'; // <<== coloque seu número aqui (DDI+DDD+numero)
    const DISPLAY_WHATSAPP_ON_SUBMIT = true; // abre whatsapp quando o formulário é enviado

    // tempo das notificações
    const NOTIF_DISPLAY = 3000;
    const NOTIF_GAP = 4000;

    /* ====== SISTEMA DE MODAIS CUSTOMIZADOS ====== */
    const modalOverlay = document.getElementById('customModalOverlay');
    const modal = document.getElementById('customModal');
    const modalIcon = document.getElementById('modalIcon');
    const modalTitle = document.getElementById('modalTitle');
    const modalBody = document.getElementById('modalBody');
    const modalActions = document.getElementById('modalActions');
    const modalClose = document.getElementById('modalClose');
    const modalOkBtn = document.getElementById('modalOkBtn');

    // Função para mostrar modal customizado
    function showCustomModal(options) {
      const {
        type = 'info',
        title = 'Informação',
        message = '',
        showCancel = false,
        confirmText = 'OK',
        cancelText = 'Cancelar',
        onConfirm = null,
        onCancel = null
      } = options;

      // Configurar ícone e classe baseado no tipo
      modalIcon.className = `custom-modal-icon ${type}`;
      
      switch(type) {
        case 'warning':
          modalIcon.textContent = '⚠';
          break;
        case 'error':
          modalIcon.textContent = '✕';
          break;
        case 'success':
          modalIcon.textContent = '✓';
          break;
        case 'info':
        default:
          modalIcon.textContent = 'ℹ';
          break;
      }

      // Configurar conteúdo
      modalTitle.textContent = title;
      modalBody.textContent = message;

      // Configurar botões
      modalActions.innerHTML = '';
      
      if (showCancel) {
        const cancelBtn = document.createElement('button');
        cancelBtn.className = 'modal-btn modal-btn-secondary';
        cancelBtn.textContent = cancelText;
        cancelBtn.onclick = () => {
          hideCustomModal();
          if (onCancel) onCancel();
        };
        modalActions.appendChild(cancelBtn);
      }

      const confirmBtn = document.createElement('button');
      confirmBtn.className = 'modal-btn modal-btn-primary';
      confirmBtn.textContent = confirmText;
      confirmBtn.onclick = () => {
        hideCustomModal();
        if (onConfirm) onConfirm();
      };
      modalActions.appendChild(confirmBtn);

      // Mostrar modal
      modalOverlay.style.display = 'flex';
      setTimeout(() => {
        modalOverlay.classList.add('show');
      }, 10);

      // Focus no botão de confirmar
      setTimeout(() => {
        confirmBtn.focus();
      }, 350);
    }

    // Função para esconder modal
    function hideCustomModal() {
      modalOverlay.classList.remove('show');
      setTimeout(() => {
        modalOverlay.style.display = 'none';
      }, 300);
    }

    // Event listeners para fechar modal
    modalClose.addEventListener('click', hideCustomModal);
    modalOverlay.addEventListener('click', (e) => {
      if (e.target === modalOverlay) {
        hideCustomModal();
      }
    });

    // Fechar modal com ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modalOverlay.classList.contains('show')) {
        hideCustomModal();
      }
    });

    // Substituir função alert padrão
    function customAlert(message, type = 'info', title) {
      let modalTitle = title;
      
      if (!modalTitle) {
        switch(type) {
          case 'warning':
            modalTitle = 'Atenção';
            break;
          case 'error':
            modalTitle = 'Erro';
            break;
          case 'success':
            modalTitle = 'Sucesso';
            break;
          case 'info':
          default:
            modalTitle = 'Informação';
            break;
        }
      }

      showCustomModal({
        type: type,
        title: modalTitle,
        message: message
      });
    }

    /* ====== FORMULÁRIO ====== */
    const form = document.getElementById('leadForm');
    const submitBtn = document.getElementById('submitBtn');
    const formMsg = document.getElementById('formMsg');

    function validateForm() {
      const name = form.name.value.trim();
      const lastname = form.lastname.value.trim();
      const age = form.age.value.trim();
      const phone = form.phone.value.trim();
      const email = form.email.value.trim();

      if (!name || !lastname || !age || !phone || !email) {
        return { ok:false, message:'Preencha todos os campos obrigatórios.' };
      }
      if (Number(age) < 12 || Number(age) > 120) {
        return { ok:false, message:'Informe uma idade válida.' };
      }
      const emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRe.test(email)) {
        return { ok:false, message:'Informe um e-mail válido.' };
      }
      return { ok:true };
    }

    form.addEventListener('submit', function(e){
      e.preventDefault();
      formMsg.textContent = '';
      const v = validateForm();
      if (!v.ok) {
        // Mostrar modal customizado se os campos não estiverem preenchidos
        customAlert('Por favor, preencha todos os dados obrigatórios antes de continuar.', 'warning', 'Dados Obrigatórios');
        formMsg.textContent = v.message;
        return;
      }

      submitBtn.disabled = true;
      submitBtn.textContent = 'Abrindo WhatsApp...';

      const name = encodeURIComponent(form.name.value.trim());
      const lastname = encodeURIComponent(form.lastname.value.trim());
      const age = encodeURIComponent(form.age.value.trim());
      const email = encodeURIComponent(form.email.value.trim());
      const phone = encodeURIComponent(form.phone.value.trim());

      const message = encodeURIComponent(
        `Nome: ${decodeURIComponent(name)}\nSobrenome: ${decodeURIComponent(lastname)}\nIdade: ${decodeURIComponent(age)}\nEmail: ${decodeURIComponent(email)}\nTelefone: ${decodeURIComponent(phone)}\nFonte: Landing VIP`
      );

      const url = `https://api.whatsapp.com/send?phone=${PHONE_WHATSAPP}&text=${message}`;

      if (DISPLAY_WHATSAPP_ON_SUBMIT) {
        window.open(url, '_blank');
      } else {
        window.location.href = url;
      }

      formMsg.innerHTML = '<span class="success-msg">Leads enviados — aguarde contato no WhatsApp.</span>';
      submitBtn.textContent = 'Enviado!';

      setTimeout(() => {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Quero fazer um teste';
      }, 6000);
    });

    /* ====== Floating WhatsApp link ====== */
    document.getElementById('whatsFloat').href = `https://api.whatsapp.com/send?phone=${PHONE_WHATSAPP}&text=${encodeURIComponent('Olá! Quero mais informações.')}`;

    /* ====== Modal para botão "Quero testar agora" ====== */
    document.getElementById('testNowBtn').addEventListener('click', function(e) {
      e.preventDefault();
      customAlert('Para fazer o teste, você precisa primeiro fazer o cadastro preenchendo o formulário abaixo.', 'info', 'Cadastro Necessário');
      
      // Rolar suavemente para o formulário após fechar o modal
      setTimeout(() => {
        document.getElementById('form').scrollIntoView({ behavior: 'smooth' });
      }, 500);
    });

    /* ====== Lógica do Carrossel de Depoimentos (melhorada) ====== */
    const carousel = document.getElementById('testimonialsCarousel');
    const testimonials = carousel.querySelectorAll('.testimonial');
    const prevBtn = document.getElementById('prevTestimonial');
    const nextBtn = document.getElementById('nextTestimonial');

    let currentIndex = 0;
    const totalTestimonials = testimonials.length;

    function updateCarousel() {
      const itemWidth = testimonials[0].offsetWidth + 20; // width + gap
      const offset = -currentIndex * itemWidth;
      carousel.style.transform = `translateX(${offset}px)`;
    }

    function showNextTestimonial() {
      currentIndex = (currentIndex + 1) % totalTestimonials;
      updateCarousel();
    }

    function showPrevTestimonial() {
      currentIndex = (currentIndex - 1 + totalTestimonials) % totalTestimonials;
      updateCarousel();
    }

    prevBtn.addEventListener('click', showPrevTestimonial);
    nextBtn.addEventListener('click', showNextTestimonial);

    // Inicializa o carrossel
    updateCarousel();

    // Autoplay
    const AUTOPLAY_INTERVAL = 4000; // 4 segundos
    let autoplayIntervalId;

    function startAutoplay() {
      autoplayIntervalId = setInterval(showNextTestimonial, AUTOPLAY_INTERVAL);
    }

    function stopAutoplay() {
      clearInterval(autoplayIntervalId);
    }

    startAutoplay();

    const carouselContainer = document.querySelector('.testimonials-carousel-container');
    carouselContainer.addEventListener('mouseenter', stopAutoplay);
    carouselContainer.addEventListener('mouseleave', startAutoplay);

    window.addEventListener('resize', updateCarousel);

    /* ====== Notificações ====== */
    (function demoNotification(){
      const container = document.getElementById('notifContainer');
      if(!container) return;
      const sample = [
        {name:'Lucas Silva', city:'Campinas - SP', label:'assinou'},
        {name:'Mariana Rosa', city:'Belo Horizonte - MG', label:'assinou'},
        {name:'Rodrigo Pereira', city:'Rio de Janeiro - RJ', label:'renovou'},
      ];
      let idx = 0;
      function showSample(){
        container.innerHTML = '';
        const n = sample[idx % sample.length];
        const el = document.createElement('div');
        el.className = 'notif show';
        el.innerHTML = `<div style="width:10px;height:10px;border-radius:50%;background:#25D366;margin-right:8px"></div>
                        <div><strong style="color:var(--accent)">${n.name}</strong><div style="font-size:0.9rem;color:#cfcfcf">${n.city}</div><div style="color:#9fe29f;font-weight:700;margin-top:6px">${n.label}</div></div>`;
        container.appendChild(el);
        setTimeout(()=>{ el.style.animation = 'slideOut .35s ease forwards'; setTimeout(()=>el.remove(),360)}, NOTIF_DISPLAY);
        idx++;
        setTimeout(showSample, NOTIF_DISPLAY + NOTIF_GAP);
      }
      setTimeout(showSample, 1500);
    })();
  </script>
</body>
</html>
